---
layout    : craft-post-zh
title     : Armor
date      : 2015-03-18
author    : mindwind
permalink : /craft/armor/zh/
---


## 用法
使用 maven 引入。

{% include_relative armor-code-maven.md %}

更多细节请参考[用户指南](/craft/armor/guide/zh/)。

## 能力
[Armor](#) 是一个进程内的服务容器用于武装你的应用，提升其健壮性。
它提供了一系列的增加属性来提升应用的健壮性。增强属性列表如下：

  - 服务线程隔离  
    `服务拥有隔离的线程执行环境。`
  - 服务超时控制  
    `服务执行可配置超时来快速回收线程资源。`
  - 服务降级  
    `服务可被降级以支持快速失败。`
  - 服务接口切换  
    `服务调用可切换到备用服务提供者。`
  - 服务监控  
    `服务可被监控以了解其执行耗时。`
  - 服务异步化  
    `服务的同步调用可被转换为异步执行。`


## 契约
  - 仅支持实现接口的服务类。  
    `因为 Armor 使用 JDK 动态代理来实现。`
  - 服务线程隔离发挥作用受限于两种条件。  
    `1. 服务方法必须全部被 Armor 增强，而不能只是一部分。`  
    `2. 所有隔离的线程池线程数加总小于总线程池线程数`
  - 服务异步执行仅针对 void 返回的方法有效。  
    `注意异步执行的副作用。`


## 版本
  - 1.1.2  
    `修复 bug，异步执行模式下，ArmorListener error 没有回调。`
  - 1.1.1  
    `修复 bug，异步执行模式下，ArmorListener 回调顺序错误。`
  - 1.1.0  
    `增加功能，新增异步执行模式和 @Arm 注解。`
  - 1.0.0  
    `初始版本。`
